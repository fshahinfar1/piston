figsize: [7,4]
subplots:
  - title: 'Processing 8 batches of request' 
    lines:
    - label: 'with swapping'
      x: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
      y: [82.88, 83.4, 84.05, 83.89, 84.47, 85.0, 86.4, 85.73, 90.55, 101.7, 90.02, 116.71, 94.25, 129.13, 98.4, 101.95, 102.54, 172.28, 191.76, 212.68, 236.92, 253.82, 271.15, 289.14, 304.32]
      color: 'tab:red'
      linestyle: '-'
      marker: 'o'
      markersize: 3
      scale: 0.016666666666666
    - label: 'baseline'
      x: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
      y: [98.7, 100.29, 100.88, 103.16, 102.93, 101.6, 103.23, 103.13, 103.49, 103.26, 102.81, 102.51, 103.42, 102.27, 103.64, 103.87, 103.56, 105.02, 105.04, 105.8, 107.26, 107.81, 109.6, 110.9, 111.94]
      color: 'k'
      linestyle: ':'
      marker: 'x'
      markersize: 3
      scale: 0.016666666666666
    legend:
      ncol: 2
      loc: 'upper left'
    grid: true
    ylabel: 'Time (minutes)'
    xlabel: "Batch size\n(Batch KV-cache size)"
    xticks: [1, 4, 7, 10, 13, 16, 19, 22, 25] 
    xtick_labels: ["1\n(0.19 GB)", "4\n(0.76 GB)", "7\n(1.33 GB)", "10\n(1.9 GB)", "13\n(2.48 GB)", "16\n(3.05 GB)", "19\n(3.62 GB)", "22\n(4.19 GB)", "25\n(4.76 GB)"]
    yticks: [0, 1, 2,  3, 4, 5, 6]
output: swapping_pipeline_batch_size_eff.pdf

# size: [0.19, 0.38, 0.57, 0.76, 0.95, 1.14, 1.33, 1.52, 1.71, 1.9, 2.09, 2.29, 2.48, 2.67, 2.86, 3.05, 3.24, 3.43, 3.62, 3.81, 4.0, 4.19, 4.38, 4.57, 4.76]